
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>0 First things first! &#8212; Poolish v0</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1 A follow-up question" href="L%2001b%20NYC%20ER.html" />
    <link rel="prev" title="Notebooks with MyST Markdown" href="markdown-notebooks.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/poolish_320.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Poolish v0</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to Data Science
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="markdown.html">
   Markdown Files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="notebooks.html">
   Content with notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="markdown-notebooks.html">
   Notebooks with MyST Markdown
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   0 First things first!
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="L%2001b%20NYC%20ER.html">
   1 A follow-up question
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="L%2002a%20JHU%20covid.html">
   1 Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="L%2002b%20JHU%20hw.html">
   Your turn
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="L%2004b%20FIFA%2022.html">
   FIFA22 players exploration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="L%2005_Resumes.html">
   1 Introduction
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/L 01a NYC ER.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/executablebooks/jupyter-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FL 01a NYC ER.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/L 01a NYC ER.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   0 First things first!
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   1 Introduction
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#imports">
   2 Imports
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-data">
   3 The data
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#read-in-the-data">
     3.1 Read in the data
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#examine-the-data">
     3.2 Examine the data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#type">
       3.2.1
       <code class="docutils literal notranslate">
        <span class="pre">
         type()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#head-tail">
       3.2.2
       <code class="docutils literal notranslate">
        <span class="pre">
         head()
        </span>
       </code>
       ,
       <code class="docutils literal notranslate">
        <span class="pre">
         tail()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#columns">
       3.2.3
       <code class="docutils literal notranslate">
        <span class="pre">
         columns
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#dtypes">
       3.2.4
       <code class="docutils literal notranslate">
        <span class="pre">
         dtypes
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plotting-total-number-of-cases-by-month">
   4 Plotting total number of cases by month
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualizing-periodicity">
   5 Visualizing periodicity
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#quick-recap">
   6 Quick recap
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#your-turn">
   7 Your turn
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>0 First things first!</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   0 First things first!
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   1 Introduction
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#imports">
   2 Imports
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-data">
   3 The data
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#read-in-the-data">
     3.1 Read in the data
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#examine-the-data">
     3.2 Examine the data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#type">
       3.2.1
       <code class="docutils literal notranslate">
        <span class="pre">
         type()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#head-tail">
       3.2.2
       <code class="docutils literal notranslate">
        <span class="pre">
         head()
        </span>
       </code>
       ,
       <code class="docutils literal notranslate">
        <span class="pre">
         tail()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#columns">
       3.2.3
       <code class="docutils literal notranslate">
        <span class="pre">
         columns
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#dtypes">
       3.2.4
       <code class="docutils literal notranslate">
        <span class="pre">
         dtypes
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plotting-total-number-of-cases-by-month">
   4 Plotting total number of cases by month
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualizing-periodicity">
   5 Visualizing periodicity
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#quick-recap">
   6 Quick recap
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#your-turn">
   7 Your turn
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="first-things-first">
<h1>0 First things first!<a class="headerlink" href="#first-things-first" title="Permalink to this heading">#</a></h1>
<p>You made it!</p>
<p>The copy of this notebook I shared with you on Google Drive is <em>read only</em>.  Your first task is to make your own copy of this notebook that you can work in.  Follow these steps:</p>
<ul class="simple">
<li><p>Go to the toolbar at the top of this page and click on <code class="docutils literal notranslate"><span class="pre">File</span></code></p></li>
<li><p>Click on <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">a</span> <span class="pre">copy</span> <span class="pre">in</span> <span class="pre">Drive</span></code></p></li>
<li><p>Find ‘Copy of L 01a NYC ER.ipynb’ in the ‘Colab Notebooks’ folder in your Google Drive.</p></li>
<li><p>Right click on the file name and rename to remove the ‘Copy of ‘ part of the name.</p></li>
</ul>
<p>Now you will be working in a copy of the original notebook in your Google Drive / Colab Notebooks folder.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="introduction">
<h1>1 Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h1>
<p>Back in March of 2020, someone tweeted a graph of New York City emergency room data to suggest the pandemic was about to intensify there.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>
<span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;To view it yourself, click on the &amp;quot;Respiratory&amp;quot; data point on this page, then aggregate by day and view the average ratio metric: &lt;a href=&quot;https://t.co/PW8rEtzUim&quot;&gt;https://t.co/PW8rEtzUim&lt;/a&gt;&lt;/p&gt;&amp;mdash; Data Pointed (@DataPointed) &lt;a href=&quot;https://twitter.com/DataPointed/status/1238575833012305920?ref_src=twsrc</span><span class="si">%5E</span><span class="s1">tfw&quot;&gt;March 13, 2020&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><blockquote class="twitter-tweet"><p lang="en" dir="ltr">To view it yourself, click on the &quot;Respiratory&quot; data point on this page, then aggregate by day and view the average ratio metric: <a href="https://t.co/PW8rEtzUim">https://t.co/PW8rEtzUim</a></p>&mdash; Data Pointed (@DataPointed) <a href="https://twitter.com/DataPointed/status/1238575833012305920?ref_src=twsrc%5Etfw">March 13, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div></div>
</div>
<p>This notebook is fairly verbose bc i’m trying to explain each step to you.  In the future, these topics will be more streamlined but I’ll be verbose with respect to new material.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="imports">
<h1>2 Imports<a class="headerlink" href="#imports" title="Permalink to this heading">#</a></h1>
<p>In this activity, we are only going to need to import the <code class="docutils literal notranslate"><span class="pre">pandas</span></code> and <code class="docutils literal notranslate"><span class="pre">altair</span></code> libraries.</p>
<p>Fortunately, <code class="docutils literal notranslate"><span class="pre">altair</span></code> comes installed with Colab.</p>
<p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pandas</span> <span class="pre">as</span> <span class="pre">pd</span></code> means:</p>
<ul class="simple">
<li><p>we are importing the whole <code class="docutils literal notranslate"><span class="pre">pandas</span></code> library</p></li>
<li><p>we are giving <code class="docutils literal notranslate"><span class="pre">pandas</span></code> the alias <code class="docutils literal notranslate"><span class="pre">pd</span></code>, so that when we call a function from <code class="docutils literal notranslate"><span class="pre">pandas</span></code> we only need to prefix <code class="docutils literal notranslate"><span class="pre">pd</span></code> rather than <code class="docutils literal notranslate"><span class="pre">pandas</span></code>.  This is the standard alias for <code class="docutils literal notranslate"><span class="pre">pandas</span></code></p></li>
<li><p>ditto for <code class="docutils literal notranslate"><span class="pre">altair</span></code> and <code class="docutils literal notranslate"><span class="pre">alt</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">folders</span><span class="o">/</span><span class="n">rv</span><span class="o">/</span><span class="n">rrn8gdqd0hx365y8ph79pvlh0000gn</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">ipykernel_34268</span><span class="o">/</span><span class="mf">2443617991.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;altair&#39;
</pre></div>
</div>
</div>
</div>
<p>Note that when this runs successfully, we don’t get an output cell.  Only the execution number  in the <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code> updates.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="the-data">
<h1>3 The data<a class="headerlink" href="#the-data" title="Permalink to this heading">#</a></h1>
<section id="read-in-the-data">
<h2>3.1 Read in the data<a class="headerlink" href="#read-in-the-data" title="Permalink to this heading">#</a></h2>
<p>We’re going to use the <code class="docutils literal notranslate"><span class="pre">pandas</span></code> function <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> to get the data from the <code class="docutils literal notranslate"><span class="pre">raw</span></code> URL in my github repo.  Remember that instead of typing <code class="docutils literal notranslate"><span class="pre">pandas</span></code> I just type <code class="docutils literal notranslate"><span class="pre">pd</span></code> because of the alias created in the <code class="docutils literal notranslate"><span class="pre">import</span></code> statement.</p>
<p>This will read the data into a dataframe named <code class="docutils literal notranslate"><span class="pre">nyc_er</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc_er</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/sawula/Survey-of-Python-data-science-stack/gh-pages/NYC</span><span class="si">%20E</span><span class="s2">R</span><span class="si">%20r</span><span class="s2">espire</span><span class="si">%2016%</span><span class="s2">2020%20totals.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="examine-the-data">
<h2>3.2 Examine the data<a class="headerlink" href="#examine-the-data" title="Permalink to this heading">#</a></h2>
<section id="type">
<h3>3.2.1 <code class="docutils literal notranslate"><span class="pre">type()</span></code><a class="headerlink" href="#type" title="Permalink to this heading">#</a></h3>
<p>We can check to see what kind of object <code class="docutils literal notranslate"><span class="pre">nyc_er</span></code> is using <code class="docutils literal notranslate"><span class="pre">type()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">nyc_er</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>It’s a pandas dataframe!</p>
</section>
<section id="head-tail">
<h3>3.2.2 <code class="docutils literal notranslate"><span class="pre">head()</span></code>, <code class="docutils literal notranslate"><span class="pre">tail()</span></code><a class="headerlink" href="#head-tail" title="Permalink to this heading">#</a></h3>
<p>We can peek at the first five lines or last five lines of the DataFrame using the <code class="docutils literal notranslate"><span class="pre">head()</span></code> or <code class="docutils literal notranslate"><span class="pre">tail()</span></code> methods.  You can use these with any Pandas dataframe.</p>
<p>If you pass <em>a number</em> in the parentheses, you display <em>that number</em> of lines.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc_er</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>  <span class="c1">#the default number of lines to display is 5</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc_er</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># this displays the last 3 lines</span>
</pre></div>
</div>
</div>
</div>
<p>You can also just type the name of the dataframe.  Normally this gives you an abbreviated listing, basically <code class="docutils literal notranslate"><span class="pre">head()</span></code> and <code class="docutils literal notranslate"><span class="pre">tail()</span></code> with ellipses in between, but this dataframe has so few rows that Pandas just lists them all.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc_er</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="columns">
<h3>3.2.3 <code class="docutils literal notranslate"><span class="pre">columns</span></code><a class="headerlink" href="#columns" title="Permalink to this heading">#</a></h3>
<p>Here’s how you list the names of the columns in the dataframe:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc_er</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
</div>
<p>You may have noticed that we typed <code class="docutils literal notranslate"><span class="pre">.columns</span></code> rather than <code class="docutils literal notranslate"><span class="pre">.columns()</span></code>.  This is because the command calls for an <em>attribute</em> rather than a <em>method</em> of the dataframe.  An attribute is something that is an essential part of every dataframe.</p>
<p>You can see a list of attributes and methods <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html">here</a>. I wouldn’t get hung up on these right now.</p>
</section>
<section id="dtypes">
<h3>3.2.4 <code class="docutils literal notranslate"><span class="pre">dtypes</span></code><a class="headerlink" href="#dtypes" title="Permalink to this heading">#</a></h3>
<p>One of the attributes is <code class="docutils literal notranslate"><span class="pre">dtypes</span></code> which reports the data type <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> assigned to each column.  You can see what the possibilities are <a class="reference external" href="https://pbpython.com/pandas_dtypes.html">here</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc_er</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
</div>
<p>You can see that our simple <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code> failed to recognize the <code class="docutils literal notranslate"><span class="pre">date</span></code> column as a date.  (This is going to be inconvenient later.)</p>
<p>Let’s change the type of <code class="docutils literal notranslate"><span class="pre">date</span></code> using the <code class="docutils literal notranslate"><span class="pre">.astype()</span></code> method. Again, this is a <em>method</em> of a Pandas <code class="docutils literal notranslate"><span class="pre">dataframe</span></code> object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc_er</span> <span class="o">=</span> <span class="n">nyc_er</span><span class="o">.</span><span class="n">astype</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="s1">&#39;datetime64&#39;</span><span class="p">})</span>  <span class="c1"># Yes, you need the braces and the parentheses!</span>
</pre></div>
</div>
</div>
</div>
<p>Since we’re not changing the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> of <code class="docutils literal notranslate"><span class="pre">count</span></code>, we don’t need to mention it in the command.</p>
<p>Let’s check that this casting of data into these new types worked.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nyc_er</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
</div>
<p>For now, let’s set aside a discussion of why you should care about <code class="docutils literal notranslate"><span class="pre">dtypes</span></code>.  I normally would skip this on a first assignment, but we need to correct the <code class="docutils literal notranslate"><span class="pre">date</span></code> column in order to graph.</p>
<p>I’m sure it’s generally good practice to make sure that the data types are correct, but I’m often sloppy about this!</p>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="plotting-total-number-of-cases-by-month">
<h1>4 Plotting total number of cases by month<a class="headerlink" href="#plotting-total-number-of-cases-by-month" title="Permalink to this heading">#</a></h1>
<p>We’re going to plot data using the charting library <code class="docutils literal notranslate"><span class="pre">Altair</span></code> which we imported above.  I’ll walk you through these graphs.</p>
<ul class="simple">
<li><p>In Altair, the principal object is a <code class="docutils literal notranslate"><span class="pre">Chart</span></code>.  You may recall that we imported Altair with an alias of <code class="docutils literal notranslate"><span class="pre">alt</span></code>, so to create a chart we will type <code class="docutils literal notranslate"><span class="pre">alt.Chart()</span></code> and type inside the parentheses the name of the Pandas dataframe we’re plotting.</p></li>
<li><p>In this case, we include <code class="docutils literal notranslate"><span class="pre">width=800</span></code> to make the chart 800 pixels wide.  That’s an optional argument.
*Next we’re goint to specify what sort of marks to use in our graph.  Some options are <code class="docutils literal notranslate"><span class="pre">mark_line()</span></code>, <code class="docutils literal notranslate"><span class="pre">mark_point()</span></code>, <code class="docutils literal notranslate"><span class="pre">mark_circle()</span></code>, and <code class="docutils literal notranslate"><span class="pre">mark_bar()</span></code>. You can see the full list <a class="reference external" href="https://altair-viz.github.io/user_guide/marks.html">here</a>.</p></li>
<li><p>Next we specify how we are going to associate information from the dataset in different “channels” in the graph.  If plotting points, what information is going to determine the x- and y- coordinates?  What is going to determine the size of the point?  Its color?  A list of encoding channels is given <a class="reference external" href="https://altair-viz.github.io/user_guide/encoding.html#encoding-channels">here</a>.</p></li>
<li><p>We usually want to tell Altair what <em>type</em> of data each column represents.  This is like the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> information above.  The options for types are given <a class="reference external" href="https://altair-viz.github.io/user_guide/encoding.html#encoding-data-types">here</a>.
With this information, I think you can follow the specification of the graph below.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">nyc_er</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;date:T&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;count:Q&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Check out what happens when you change <code class="docutils literal notranslate"><span class="pre">mark_line()</span></code> to some other kind of mark, like <code class="docutils literal notranslate"><span class="pre">mark_circle()</span></code>?</p>
<p>If you want a more complete example of graphing in Altair, you may find <a class="reference external" href="https://altair-viz.github.io/case_studies/exploring-weather.html">this example</a> in the Altair documentation helpful.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="visualizing-periodicity">
<h1>5 Visualizing periodicity<a class="headerlink" href="#visualizing-periodicity" title="Permalink to this heading">#</a></h1>
<p>The previous graph looks <em>periodic</em>.  Maybe not as perfectly as a trigonometric function, but from year to year there seems to be a regular peak in January.  Let’s see if we can display this to make it easier to see.</p>
<p>One idea is to plot the years against each other, with each line running from January to December.  Altair lets us do this with built-in <code class="docutils literal notranslate"><span class="pre">month()</span></code> and <code class="docutils literal notranslate"><span class="pre">year()</span></code> functions which operate on dates.</p>
<p>I think the Altair graph specification should be easy for you to follow.  I split up the <code class="docutils literal notranslate"><span class="pre">Chart()</span></code> command over several lines using <code class="docutils literal notranslate"><span class="pre">\</span></code>.  It indicates that the statement continues on the next line.  Python also guesses that the line continues when ending with a comma.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">nyc_er</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span> \
            <span class="o">.</span><span class="n">mark_line</span><span class="p">()</span> \
            <span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;month(date):T&#39;</span><span class="p">,</span>
                    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;count:Q&#39;</span><span class="p">,</span>
                    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;year(date):N&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>What do you notice in this graph?</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="quick-recap">
<h1>6 Quick recap<a class="headerlink" href="#quick-recap" title="Permalink to this heading">#</a></h1>
<p>In terms of our journey through our Python data science stack, we looked at two libraries:  Pandas and Altair.</p>
<p>In Pandas, the main object is a DataFrame.  We used the methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">head()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tail()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">astype()</span></code></p></li>
</ul>
<p>and the attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">columns</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dtypes</span></code></p></li>
</ul>
<p>as well as <code class="docutils literal notranslate"><span class="pre">[]</span></code> for selecting parts of the data.</p>
<p>In Altair, the main object is a Chart.  We used the methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mark_line()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">encode()</span></code></p></li>
</ul>
<p>We also used the Python command <code class="docutils literal notranslate"><span class="pre">type()</span></code> to double-check the types of objects we had created.</p>
<p>Look at that.  You’re starting to be able to read code!</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="your-turn">
<h1>7 Your turn<a class="headerlink" href="#your-turn" title="Permalink to this heading">#</a></h1>
<ul class="simple">
<li><p>Save your work in this notebook by typing <code class="docutils literal notranslate"><span class="pre">CTL</span></code> <code class="docutils literal notranslate"><span class="pre">S</span></code></p></li>
<li><p>Create similar graphs for another dataset.  See Canvas for that link.</p></li>
</ul>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="markdown-notebooks.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Notebooks with MyST Markdown</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="L%2001b%20NYC%20ER.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">1 A follow-up question</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Mark Sawula<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>